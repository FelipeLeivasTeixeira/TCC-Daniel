<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meus Pedidos - ImportAê</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/painel.css">
    <link rel="stylesheet" href="/stylesheets/meuspedidosimportador.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
</head>
<body>
    <%- include('partials/header') %>
    <main class="fade-in container mt-5">
        <div class="row">
            <div class="col-md-3">
                <ul class="nav flex-column nav-pills" id="importerPanel" role="tablist" aria-orientation="vertical">
                    <li class="nav-item">
                        <a class="nav-link" id="minhas-informacoes-tab" href="/painel" role="tab" aria-controls="minhas-informacoes" aria-selected="false">Minhas Informações</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="adicionar-produto-tab" href="/adicionarproduto" role="tab" aria-controls="adicionar-produto" aria-selected="false">Adicionar Produto</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="meus-produtos-tab" href="/meusprodutos" role="tab" aria-controls="meus-produtos" aria-selected="false">Meus Produtos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" id="meus-pedidos-tab" href="/painel/meus-pedidos" role="tab" aria-controls="meus-pedidos" aria-selected="true">Meus Pedidos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="chat-clientes-tab" href="/painel/chat-clientes" role="tab" aria-controls="chat-clientes" aria-selected="false">Chat com Clientes</a>
                    </li>
                </ul>
            </div>
            <div class="col-md-9">
                <div class="tab-content" id="importerPanelContent">
                    <div class="tab-pane fade show active" id="meus-pedidos" role="tabpanel" aria-labelledby="meus-pedidos-tab">
                        <h3>Meus Pedidos</h3>
                        <div class="order-list">
                            <!-- Exemplo de um pedido -->
                            <div class="order-item">
                                <div class="order-header d-flex justify-content-between align-items-center">
                                    <div>
                                        <h5 class="order-id">Pedido #12345</h5>
                                        <p class="order-date">Data: 01/01/2023</p>
                                    </div>
                                    <div>
                                        <span class="badge badge-warning">Processando</span>
                                        <span class="badge badge-secondary">Aguardando Fotos</span>
                                        <span class="badge badge-danger">Aguardando pagamento</span>
                                    </div>
                                </div>
                                <div class="order-body">
                                    <p><strong>Cliente:</strong> João Silva</p>
                                    <p><strong>Produto:</strong> Camiseta Importada</p>
                                    <p><strong>Quantidade:</strong> 2</p>
                                    <p><strong>Preço:</strong> R$ 150,00</p>
                                    <p><strong>Forma de Pagamento:</strong> <i class="bi bi-coin"></i> Pix</p>
                                    <p><strong>Endereço:</strong> Rua das Flores, 123, São Paulo, SP</p>
                                </div>
                                <div class="order-footer d-flex justify-content-between">
                                    <button class="btn btn-success"><i class="bi bi-chat"></i> Conversar com o Cliente</button>
                                    <button class="btn btn-primary"><i class="bi bi-check-circle"></i> Marcar como Concluído</button>
                                    <button class="btn btn-info" onclick="openPhotoPopup()"><i class="bi bi-camera"></i> Adicionar Fotos</button>
                                    <button class="btn btn-warning"><i class="bi bi-cash"></i> Marcar como Pago</button>
                                </div>
                            </div>
                            <!-- Outro pedido -->
                            <div class="order-item">
                                <div class="order-header d-flex justify-content-between align-items-center">
                                    <div>
                                        <h5 class="order-id">Pedido #12346</h5>
                                        <p class="order-date">Data: 02/01/2023</p>
                                    </div>
                                    <div>
                                        <span class="badge badge-success">Concluído</span>
                                        <span class="badge badge-success">Fotos Enviadas</span>
                                        <span class="badge badge-success">Pago</span>
                                    </div>
                                </div>
                                <div class="order-body">
                                    <p><strong>Cliente:</strong> Maria Oliveira</p>
                                    <p><strong>Produto:</strong> Relógio de Pulso</p>
                                    <p><strong>Quantidade:</strong> 1</p>
                                    <p><strong>Preço:</strong> R$ 300,00</p>
                                    <p><strong>Forma de Pagamento:</strong> <i class="bi bi-credit-card"></i> Cartão de Crédito/Débito</p>
                                    <p><strong>Endereço:</strong> Avenida Brasil, 456, Rio de Janeiro, RJ</p>
                                </div>
                                <div class="order-footer d-flex justify-content-between">
                                    <button class="btn btn-success"><i class="bi bi-chat"></i> Conversar com o Cliente</button>
                                    <button class="btn btn-primary"><i class="bi bi-check-circle"></i> Marcar como Concluído</button>
                                    <button class="btn btn-info" onclick="openPhotoPopup()"><i class="bi bi-camera"></i> Adicionar Fotos</button>
                                    <button class="btn btn-warning"><i class="bi bi-cash"></i> Marcar como Pago</button>
                                </div>
                            </div>
                            <!-- Outro pedido -->
                            <div class="order-item">
                                <div class="order-header d-flex justify-content-between align-items-center">
                                    <div>
                                        <h5 class="order-id">Pedido #12347</h5>
                                        <p class="order-date">Data: 03/01/2023</p>
                                    </div>
                                    <div>
                                        <span class="badge badge-warning">Processando</span>
                                        <span class="badge badge-secondary">Aguardando Fotos</span>
                                        <span class="badge badge-danger">Aguardando pagamento</span>
                                    </div>
                                </div>
                                <div class="order-body">
                                    <p><strong>Cliente:</strong> Pedro Santos</p>
                                    <p><strong>Produto:</strong> Fone de Ouvido</p>
                                    <p><strong>Quantidade:</strong> 3</p>
                                    <p><strong>Preço:</strong> R$ 75,00</p>
                                    <p><strong>Forma de Pagamento:</strong> <i class="bi bi-coin"></i> Pix</p>
                                    <p><strong>Endereço:</strong> Rua Nova, 789, Belo Horizonte, MG</p>
                                </div>
                                <div class="order-footer d-flex justify-content-between">
                                    <button class="btn btn-success"><i class="bi bi-chat"></i> Conversar com o Cliente</button>
                                    <button class="btn btn-primary"><i class="bi bi-check-circle"></i> Marcar como Concluído</button>
                                    <button class="btn btn-info" onclick="openPhotoPopup()"><i class="bi bi-camera"></i> Adicionar Fotos</button>
                                    <button class="btn btn-warning"><i class="bi bi-cash"></i> Marcar como Pago</button>
                                </div>
                            </div>
                            <!-- Repita a estrutura do pedido para cada pedido do importador -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Pop-up de Adicionar Fotos -->
    <div id="photoPopup" class="popup">
        <div class="popup-content">
            <span class="close" onclick="closePhotoPopup()">&times;</span>
            <h3>Adicionar Fotos</h3>
            <form>
                <div class="form-group">
                    <label for="productPhotos">Fotos do Produto</label>
                    <div class="d-flex">
                        <div class="photo-upload-square" onclick="document.getElementById('productPhoto1').click()">
                            <i class="bi bi-plus-circle"></i>
                            <input type="file" class="form-control-file d-none" id="productPhoto1" accept="image/*" multiple onchange="previewProductPhotos(event)">
                        </div>
                        <div class="photo-upload-square" onclick="document.getElementById('productPhoto2').click()">
                            <i class="bi bi-plus-circle"></i>
                            <input type="file" class="form-control-file d-none" id="productPhoto2" accept="image/*" multiple onchange="previewProductPhotos(event)">
                        </div>
                        <div class="photo-upload-square" onclick="document.getElementById('productPhoto3').click()">
                            <i class="bi bi-plus-circle"></i>
                            <input type="file" class="form-control-file d-none" id="productPhoto3" accept="image/*" multiple onchange="previewProductPhotos(event)">
                        </div>
                    </div>
                    <div id="productPhotoPreview" class="d-flex mt-2"></div>
                </div>
                <div class="form-group">
                    <label for="packagePhotos">Fotos da Embalagem</label>
                    <div class="d-flex">
                        <div class="photo-upload-square" onclick="document.getElementById('packagePhoto1').click()">
                            <i class="bi bi-plus-circle"></i>
                            <input type="file" class="form-control-file d-none" id="packagePhoto1" accept="image/*" multiple onchange="previewPackagePhotos(event)">
                        </div>
                        <div class="photo-upload-square" onclick="document.getElementById('packagePhoto2').click()">
                            <i class="bi bi-plus-circle"></i>
                            <input type="file" class="form-control-file d-none" id="packagePhoto2" accept="image/*" multiple onchange="previewPackagePhotos(event)">
                        </div>
                        <div class="photo-upload-square" onclick="document.getElementById('packagePhoto3').click()">
                            <i class="bi bi-plus-circle"></i>
                            <input type="file" class="form-control-file d-none" id="packagePhoto3" accept="image/*" multiple onchange="previewPackagePhotos(event)">
                        </div>
                    </div>
                    <div id="packagePhotoPreview" class="d-flex mt-2"></div>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Salvar Fotos</button>
            </form>
        </div>
    </div>

    <%- include('partials/footer') %>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvvV8AB8If5q4l78CM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXlNHjR0AyyQp+d6EFx/q28X1Txswg6w+jfXp65XOZV+5ckb8j4i5I+X0oeg" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+dflw6E5iqKuxau6/6L5D1GyTne0IWeC52Bvrpt9CH25R1wEl" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.js"></script>
    <script>
        function openPhotoPopup() {
            document.getElementById('photoPopup').style.display = 'flex';
        }

        function closePhotoPopup() {
            document.getElementById('photoPopup').style.display = 'none';
        }

        function previewProductPhotos(event) {
            const files = event.target.files;
            const photoPreview = document.getElementById('productPhotoPreview');
            photoPreview.innerHTML = '';
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.classList.add('photo-thumb');
                    photoPreview.appendChild(img);
                };
                reader.readAsDataURL(file);
            }
        }

        function previewPackagePhotos(event) {
            const files = event.target.files;
            const photoPreview = document.getElementById('packagePhotoPreview');
            photoPreview.innerHTML = '';
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.classList.add('photo-thumb');
                    photoPreview.appendChild(img);
                };
                reader.readAsDataURL(file);
            }
        }
    </script>
</body>
</html>
